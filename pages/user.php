<?php
    $server = "localhost"; //127.0.0.1
    $user = "root";
    $pass = "";

    try{
        $connection = new PDO("mysql:host=$server;dbname=TutosWeb", $user, $pass);
        $connection -> setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        
        $sql = "SELECT `id`,`email`,`username`,`role` from `users`;";
        $Query = $connection-> prepare($sql);
        $Query->execute();
        $res = $Query->fetchAll();
        echo "<script> localStorage.setItem('users',JSON.stringify(".json_encode($res)."));</script>";

        $sql = "SELECT * from `tutos`;";
        $Query = $connection-> prepare($sql);
        $Query->execute();
        $res = $Query->fetchAll();
        echo "<script> localStorage.setItem('tutos',JSON.stringify(".json_encode($res)."));</script>";
    }catch(PDOException $err){
        echo "We can't connect with the db<br>";
        echo $err;
    }
?>

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutos | Cuenta</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link href="../styles/userstyle.css" rel="stylesheet" />
    <link rel="icon" href="../src/img/mortarboard.png" type="image/PNG" />
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="../src/img/mortarboard.png" alt="TutosLogo" />
        <h4>Tutos Share</h4>
      </div>
    </header>
    <div class="side-divisor">
      <main>
        <div id="user-container">
          <div id="username">
            <p></p>
            <svg
                version="1.1"
                id="Layer_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                viewBox="0 0 512 512"
                style="enable-background: new 0 0 512 512"
                xml:space="preserve"
              >
                <g>
                  <g>
                    <path
                      d="M256,0c-74.439,0-135,60.561-135,135s60.561,135,135,135s135-60.561,135-135S330.439,0,256,0z M256,240
        c-57.897,0-105-47.103-105-105c0-57.897,47.103-105,105-105c57.897,0,105,47.103,105,105C361,192.897,313.897,240,256,240z"
                    />
                  </g>
                </g>
                <g>
                  <g>
                    <path
                      d="M423.966,358.195C387.006,320.667,338.009,300,286,300h-60c-52.008,0-101.006,20.667-137.966,58.195
        C51.255,395.539,31,444.833,31,497c0,8.284,6.716,15,15,15h420c8.284,0,15-6.716,15-15
        C481,444.833,460.745,395.539,423.966,358.195z M61.66,482c7.515-85.086,78.351-152,164.34-152h60
        c85.989,0,156.825,66.914,164.34,152H61.66z"
                    />
                  </g>
                </g>
              </svg>
          </div>
          <div id="email">
            <p></p>
            <svg enable-background="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m326.773 144.153c5.928-9.307 16.338-15.484 28.185-15.484 18.434 0 33.391 14.957 33.391 33.391v131.042c0 8.176 5.701 13.923 12.925 16.853 3.834 1.555 8.018 2.331 12.155 2.22 4.056-.108 8.022-1.105 11.637-2.949 17.385-8.871 20.477-35.123 20.231-52.204-.729-50.644-21.452-99.038-57.184-134.864-35.214-35.306-82.109-55.377-132.093-55.377-50.373 0-98.185 19.806-133.798 55.42-35.614 35.614-55.42 83.427-55.42 133.799 0 50.373 19.806 98.185 55.42 133.798 35.614 35.614 83.426 55.42 133.798 55.42 19.304 0 38.483-2.876 56.902-8.669 18.352-5.773 35.734-14.333 51.499-25.361 15.081-10.55 35.882-6.857 46.421 8.229 10.534 15.08 6.845 35.86-8.226 46.403-21.355 14.94-44.884 26.589-69.749 34.41-24.874 7.823-50.775 11.77-76.847 11.77-68.111 0-132.864-26.828-181.018-74.982-48.155-48.154-74.982-112.907-74.982-181.018s26.828-132.864 74.982-181.018c48.153-48.154 112.907-74.982 181.018-74.982 67.785 0 131.584 27.2 179.347 75.089 47.971 48.097 75.614 113.088 76.593 181.052.647 44.933-14.178 90.929-56.581 112.567-12.49 6.374-26.258 9.747-40.262 10.121-13.271.355-26.614-2.023-38.919-7.014-11.09-4.498-21.227-11.015-29.68-19.27-24.534 23.014-56.728 35.785-90.499 35.785-35.199 0-68.685-13.874-93.57-38.759s-38.759-58.371-38.759-93.57 13.874-68.685 38.759-93.57 58.371-38.759 93.57-38.759c25.327-.001 49.767 7.182 70.754 20.481zm-24.403 65.498c-12.345-12.345-28.889-19.197-46.35-19.197-17.46 0-34.005 6.852-46.35 19.197s-19.197 28.889-19.197 46.35 6.853 34.005 19.197 46.35c12.345 12.345 28.89 19.197 46.35 19.197s34.005-6.852 46.35-19.197 19.197-28.89 19.197-46.35c0-17.461-6.853-34.006-19.197-46.35z" fill-rule="evenodd"/></svg>
          </div>
          <div id="LogOut">
              <p>Cerrar sesi√≥n</p>
              <svg viewBox="0 0 512.016 512" xmlns="http://www.w3.org/2000/svg"><path d="m496 240.007812h-202.667969c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h202.667969c8.832031 0 16 7.167969 16 16 0 8.832032-7.167969 16-16 16zm0 0"/><path d="m416 320.007812c-4.097656 0-8.191406-1.558593-11.308594-4.691406-6.25-6.253906-6.25-16.386718 0-22.636718l68.695313-68.691407-68.695313-68.695312c-6.25-6.25-6.25-16.382813 0-22.632813 6.253906-6.253906 16.386719-6.253906 22.636719 0l80 80c6.25 6.25 6.25 16.382813 0 22.632813l-80 80c-3.136719 3.15625-7.230469 4.714843-11.328125 4.714843zm0 0"/><path d="m170.667969 512.007812c-4.566407 0-8.898438-.640624-13.226563-1.984374l-128.386718-42.773438c-17.46875-6.101562-29.054688-22.378906-29.054688-40.574219v-384c0-23.53125 19.136719-42.6679685 42.667969-42.6679685 4.5625 0 8.894531.6406255 13.226562 1.9843755l128.382813 42.773437c17.472656 6.101563 29.054687 22.378906 29.054687 40.574219v384c0 23.53125-19.132812 42.667968-42.664062 42.667968zm-128-480c-5.867188 0-10.667969 4.800782-10.667969 10.667969v384c0 4.542969 3.050781 8.765625 7.402344 10.28125l127.785156 42.582031c.917969.296876 2.113281.46875 3.480469.46875 5.867187 0 10.664062-4.800781 10.664062-10.667968v-384c0-4.542969-3.050781-8.765625-7.402343-10.28125l-127.785157-42.582032c-.917969-.296874-2.113281-.46875-3.476562-.46875zm0 0"/><path d="m325.332031 170.675781c-8.832031 0-16-7.167969-16-16v-96c0-14.699219-11.964843-26.667969-26.664062-26.667969h-240c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-15.9999995 16-15.9999995h240c32.363281 0 58.664062 26.3046875 58.664062 58.6679685v96c0 8.832031-7.167969 16-16 16zm0 0"/><path d="m282.667969 448.007812h-85.335938c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h85.335938c14.699219 0 26.664062-11.96875 26.664062-26.667968v-96c0-8.832032 7.167969-16 16-16s16 7.167968 16 16v96c0 32.363281-26.300781 58.667968-58.664062 58.667968zm0 0"/></svg>
          </div>
          <div id="userTutos">
            <p>Mis Tutos</p>
            <svg id="Layer_1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m468.8 235.008-401.364-231.73a24.24 24.24 0 0 0 -36.359 20.993v463.458a24.189 24.189 0 0 0 36.36 20.993l401.363-231.73a24.239 24.239 0 0 0 0-41.984zm-405.723 239.281v-436.578l378.086 218.289z"/></svg>
          </div>
        </div>
        <div class="container-lg" id="tutos-container">
  
        </div>
      </main>
      <nav class="side-navbar">
        <div><</div>
        <ul class="navbar-ul">
            <li class="navbar-item">
                <a href="newtuto.php">
                    <svg viewBox="0 0 448 448" xmlns="http://www.w3.org/2000/svg">
                        <path
                        d="m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"
                        />
                    </svg>
                </a>
            </li>
            <li class="navbar-item">
                <a href="home.php">
                    <svg
                    id="Layer_1"
                    enable-background="new 0 0 100 100"
                    viewBox="0 0 100 100"
                    xmlns="http://www.w3.org/2000/svg"
                    >
                    <g>
                        <path
                        d="m83.5 100h-67c-9 0-16.5-7.6-16.5-16.7v-36.5c0-4.6 2-9.1 5.5-12.2l33.5-30.4c6.5-5.6 15.5-5.6 22 0l33.5 30.4c3.5 3 5.5 7.6 5.5 12.2v36.5c-.5 9.6-7.5 16.7-16.5 16.7zm-33.5-89.7c-1.5 0-3 .5-4.5 1.5l-33.5 30.4c-1.5 1-2 3-2 5.1v36.5c0 3.5 3 6.6 6.5 6.6h66.5c3.5 0 6.5-3 6.5-6.6v-36.5c0-2-1-3.5-2-5.1l-33.5-30.4c-1-1-2.5-1.5-4-1.5z"
                        />
                    </g>
                    </svg>
                </a>
            </li>
            <li class="navbar-item navbar-active">
                <a href="user.php">
                    <svg
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="0 0 512 512"
                    style="enable-background: new 0 0 512 512"
                    xml:space="preserve"
                    >
                    <g>
                        <g>
                            <path
                            d="M256,0c-74.439,0-135,60.561-135,135s60.561,135,135,135s135-60.561,135-135S330.439,0,256,0z M256,240
                            c-57.897,0-105-47.103-105-105c0-57.897,47.103-105,105-105c57.897,0,105,47.103,105,105C361,192.897,313.897,240,256,240z"
                            />
                        </g>
                    </g>
                    <g>
                        <g>
                            <path
                            d="M423.966,358.195C387.006,320.667,338.009,300,286,300h-60c-52.008,0-101.006,20.667-137.966,58.195
                            C51.255,395.539,31,444.833,31,497c0,8.284,6.716,15,15,15h420c8.284,0,15-6.716,15-15
                            C481,444.833,460.745,395.539,423.966,358.195z M61.66,482c7.515-85.086,78.351-152,164.34-152h60
                            c85.989,0,156.825,66.914,164.34,152H61.66z"
                            />
                        </g>
                    </g>
                    </svg>
                </a>
            </li>
            <li id="admin-view" class="navbar-item">
                <a href="adminview.php">
                    <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g id="b"><path d="m256.64 38.6c58.7 19.44 118.95 42.33 170.47 62.31 3.58 23.45 8.49 63.67 9.43 112.29.83 55.38-3.75 85.93-5.78 96.58-4.25 14.67-13.17 30.61-26.51 47.37-15.82 19.86-37.36 40.51-64.02 61.36-.02.01-.04.03-.05.04-37.89 29.74-72.97 48.91-83.54 54.43-10.57-5.51-45.61-24.64-83.48-54.36l-.05-.04c-26.65-20.84-48.18-41.48-63.97-61.33-12.67-15.93-21.35-31.13-25.83-45.18-.12-.47-.25-.94-.4-1.42-2-6.77-8.43-34.04-7.46-101.16 1.06-42.76 4.98-80.96 11.1-108.84 51.36-19.89 111.43-42.68 170.09-62.06m0-38.51c-3.01 0-6.03.48-8.96 1.45-57.51 18.9-116.5 41.07-176.49 64.31-8.07 3.13-14.84 8.92-19.24 15.96.34.04-12.33 39.59-14.49 126.94-1.28 87.36 9.6 113.53 9.24 113.56 5.89 19.2 16.91 38.73 32.7 58.59 17.65 22.18 41.5 45.09 70.31 67.61 47.69 37.43 92.32 59.8 94.19 60.59 4.04 1.98 8.33 2.98 12.75 2.98h.01c4.43 0 8.72-1.01 12.76-3 1.88-.79 46.56-23.23 94.23-60.65 28.82-22.54 52.67-45.45 70.33-67.62 16.92-21.27 28.36-42.14 33.89-62.64-.22-.03 7.78-32.11 6.67-105.62-1.41-73.5-11.65-127.71-11.51-127.76-4.26-8.31-11.73-15.26-20.87-18.81-60-23.25-119-45.46-176.52-64.42-2.95-.97-5.97-1.46-8.99-1.46z"/><path d="m256.61 353.07c-10.96 0-21.26-4.26-29-12.01-7.75-7.75-12.02-18.05-12.02-29v-32.03c-16.76-12.55-26.78-32.21-26.79-53.7 0-37.05 30.14-67.2 67.19-67.21 17.95 0 34.83 6.99 47.52 19.68s19.69 29.57 19.69 47.52c0 20.83-9.57 40.16-25.58 52.77v32.97c0 10.96-4.26 21.26-12.01 29-7.75 7.75-18.05 12.01-29 12.02zm-.61-155.96c-16.1 0-29.2 13.1-29.2 29.2 0 11.16 6.22 21.19 16.24 26.17 6.46 3.21 10.54 9.8 10.54 17.01v42.56c0 1.66 1.36 3.02 3.02 3.02 1.03 0 1.73-.48 2.13-.88s.88-1.1.88-2.13v-43.17c0-7.02 3.87-13.47 10.07-16.77 9.57-5.1 15.52-14.98 15.51-25.8 0-7.8-3.04-15.13-8.55-20.65-5.52-5.51-12.85-8.55-20.65-8.55z"/></g></svg>
                </a>
            </li>
        </ul>
      </nav>
    </div>
    <div id="tuto-modal" class="tuto-modal">
    </div>
    <script type="text/javascript" src="../scripts/userScript.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
